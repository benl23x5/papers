%!TEX root = ../Main.tex

\begin{figure}

\begin{tabbing}
MMMM \= MM \= MM \= MM \= \kill
$\mi{e_c}$
\GrammarDef $x$ \> $|$ \> $v$
\GrammarAlt $e_c~e_c$ \> $|$ \> $p$
\\
\\
$c$
\GrammarDef $x$ \> $|$ \> $\mi{Always}$
\\
\\
$\mi{FoldNest}$
\GrammarDef $@nest@~\mi{Op}*$
\\
\\
$\mi{Op}$
\GrammarDef $@let@~x~=~e_c~@when@~c$
\GrammarAlt $@fold@~x~=~e_c,~(e_c~@when@~c~@else@~e_c)$
\\
\\
$\mi{Bind}$
\GrammarDef $x~=~\lambda{}x.~e_c$
\\
\\
$\mi{Program}$
\GrammarDef @inputs@ \\
    \>      \> \> $(x~:~@Stream@~c~\tau)*$ \\
    \>      \> @binds@ \\
    \>      \> \> $\mi{Bind}*$ \\
    \>      \> @with@ \\
    \>      \> \> $\mi{FoldNest}*$ \\
    \>      \> @in@ \\
    \>      \> \> $x*$ \\
\end{tabbing}


\caption{Grammar for Icicle Core}
\label{fig:core:grammar}
\end{figure}

